# Instructions for Repetition of Study

This file descirbes how to reproduce the analysis of "Identification of the Mode of Evolution in Incomplete Carbonate Successions"

## Authors

__Niklas Hohmann__  
Utrecht University   
email: n.hohmann@uu.nl  
Web page: [uu.nl/staff/NHohmann](uu.nl/staff/NHohmann)  
Orcid: [0000-0003-1559-1838](https://orcid.org/0000-0003-1559-1838)

## Reproducibility

Below it is described how to reproduce the study. Data generated by the individual steps are also saved under od. fill un here

### 1. Get Age-Depth Models

#### 1.1 Generate Carbonate Platforms 

1. Clone the scenarioA branch of the CarboCAT lite repository from [here](https://github.com/MindTheGap-ERC/CarboCATLite/tree/scenarioA).
2. Run the file "carbocatGUI.m"in Matlab. This will open a GUI
3. Click initialize. The GUI output after initialization is saved under "figs/matlab/scenarioA_initial_conditions.pdf" and serves as the basis for fig S1.
3. Click "Run CA model". This will start the model run, progress is displayed in the console.
4. After the run, save your Matlab worspace. Once the console outputs indicate hte run is finished, save your worspace. The data is identical to the data saved under "data/matlab_output_scenarioA_matlab_outputs.mat". It constains all the raw data generated by CarboCAT.
5. Click "Plot run" to generate the chronostratigraphic chart and dip section saved under "figs/matlab/scenarioA_dip_section_and_chronostrat.pdf". This might take a while.

Repeat for the branch _scenarioB_ to generate the data for scenario B.

#### 1.2 Extract Age-Depth Models from CartboCAT

1. In the folder data -> matlab_outputs, run "get_adm_from_carbocat_outputs.m" in matlab. This generates the file "scenarioA_and_B_matlab_to_R.mat", which can be read into R.
2. Open RProj "CarbStratPalEvo"
3. Run _process_adm_from_matlab.R_ to import the ADMs into R. This will generate the file data/R_outputs/ageDepthModelsScenariosAandB.Rdata

### Run analyses
Open the project "blblb" in Rstudio