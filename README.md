# CarboStratPalEvo

Repository for the manuscript "Identification of the mode of evolution in incomplete carbonate successions".

## Authors

__Niklas Hohmann__  
Utrecht University  
email: n.h.hohmann [at] uu.nl  
Web page: [www.uu.nl/staff/NHohmann](https://www.uu.nl/staff/NHHohmann)  
ORCID: [0000-0003-1559-1838](https://orcid.org/0000-0003-1559-1838)

__Jan Roel Koelewijn__  
Utrecht University  
ORCID: [0000-0002-4668-3797](https://orcid.org/0000-0002-4668-3797)

__Emilia Jarochowska__  
Utrecht University  
email: e.b.jarochowska [at] uu.nl  
Web page: [www.uu.nl/staff/EBJarochowska](https://www.uu.nl/staff/EBJarochowska)  
ORCID: [0000-0001-8937-9405](https://orcid.org/0000-0001-8937-9405)

## Software requirements

_R_ and the _Rstudio_ IDE.  
_Matlab_ is necessary tu fully reproduct the study from scratch. However, all data generated by _Matlab_ can also be downloaded from a repository.

## Usage

Open the Rproject file "CarbonateStratPalEvo.Rproj" in _Rstudio_. This will bootstrap the _renv_ package if it is not installed yet. Next, run

``` R
renv::restore()
```

This will install all required packages and their dependencies needed in the project.

## Repository Structure

* _.gitignore_ : Untracked files
* _.Rprofile_ : R project settings
* _CarbonateStratPalEvo.Rproj_ : Rstudio project file
* _LICENSE_ : Apache 2.0 license text
* _README.md_ : Readme file
* _renv.lock_ : lock file from renv
* _REPRODUCEME.md_ : Instructions for repetition of the study
* _code_ : Folder with main code
  * _make_plots.R_ : generate plots
  * _parameters_for_tests.R_ : define test & simulation settings
  * _process_adm_from_matlab.R_ : extreact adm from Matlab data & determine hiatuses & completeness
  * _simulate_and_test_modes_of_evolution.R_ : perform simulations & tests
  * _utils_ : utility functions (simulate trait evolution in time & strat domain, determine sample ages, completeness , etc. )
* _data_ : Folder for data
  * _matlab_outputs_ : Folder with raw data generated by CarboCATLite in Matlab
    * _scenarioA_glob_matlab_outputs.mat_ : raw data of scenario A
    * _scenarioB_glob_matlab_outputs.mat_ : raw data of scenario B
    * _scenarioA_and_B_matlab_to_R.m_ : function to extract ADMs from CarboCATLite outputs
    * _get_adm_from_carbocat_outputs.m_ : ADMs from CarboCATLite for import in R
    * _codebook.md_ : Describes contents of .mat files in this folder
  * _R_outputs_ : Folder with data generated by R
    * _ageDepthModelsScenariosAandB.Rdata_ : ADMs, completeness, & hiatus durations from scenario A and B
    * _parameters_for_tests.Rdata_ : test & simulation settings
    * _results_modes_of_evolution.Rdata_ : test and simulation results
    * _codebook.md_ : Describes contents of .Rdata files in this folder
* _figs_ : Folder with figures
  * _matlab_ : Folder with plots from CarboCATLite
  * _R_ : figures generated by _/code/make_plots.R_
* _renv_ : Folder generated by _renv_ package

## Copyright

Copyright 2023 Netherlands eScience Center and Utrecht University

## License

Apache 2.0 License, see LICENSE file for full license text.

## Funding information

Funded by the European Union (ERC, MindTheGap, StG project no 101041077). Views and opinions expressed are however those of the author(s) only and do not necessarily reflect those of the European Union or the European Research Council. Neither the European Union nor the granting authority can be held responsible for them.
![European Union and European Research Council logos](https://erc.europa.eu/sites/default/files/2023-06/LOGO_ERC-FLAG_FP.png)
